---
layout: post
title: "전세자금대출 실행을 위한 체크리스트 입니다."
---

# 미혼 구성원에게 도움이 될만한 전세자금 대출 프로세스를 공유합니다.

혼자 대출을 준비하시는 분들에게 도움이 되었으면 좋겠습니다. 



<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>미혼 전세자금대출 실행 체크리스트</title>
    <!-- Load Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter Font --><style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            /* background-color: #f7f7f7; Removed for transparent background */
            color: #1f2937;
        }
        /* Fixed bar height is approx 64px, so body needs padding top */
        .body-padding-top {
            /* Increased padding to accommodate progress bar + labels */
            padding-top: 100px; 
        }
        /* Custom styles for the segmented timeline look */
        .timeline-segment-wrapper {
            /* Ensures borders/rounding are applied correctly */
            position: relative;
        }
        /* Style for the step markers */
        .segment-marker {
            /* Simulates the white border effect seen in the reference image */
            box-shadow: 0 0 0 4px #f7f7f7; 
            z-index: 10;
        }
    </style>
</head>
<!-- pt-20을 body에 적용하여 고정 바와 겹치지 않게 합니다. --><body class="min-h-screen body-padding-top p-4 md:p-8"> 

    <!-- 1. Fixed Horizontal Timeline Bar (전체 타임라인 진행 상황) --><div id="fixed-progress-bar" class="fixed top-0 left-0 w-full bg-white shadow-xl z-50 p-3 border-b border-gray-200">
        <div class="max-w-4xl mx-auto">
            <h3 class="text-xs font-bold text-gray-500 mb-2">전체 진행 상황 (Total Progress) - 전체 진행 상황을 확인하세요!</h3>
            
            <!-- Timeline Bar Container --><div class="relative h-10 flex items-center mb-4">
                <!-- The actual bar with segments (Flex container with rounded ends) --><div id="progress-segments" class="flex w-full h-8 shadow-lg rounded-full overflow-hidden">
                    <!-- Segments inserted here by JS --></div>
                <!-- Overlay Markers Container (For step circles) --><div id="progress-markers" class="absolute inset-0 flex items-center justify-between pointer-events-none px-4">
                    <!-- Markers will be inserted here by JS --></div>
            </div>
            
            <!-- Labels (New) --><div id="progress-labels" class="flex w-full mt-1">
                <!-- Labels inserted here by JS --></div>
        </div>
    </div>

    <!-- 2. Main App Container --><div id="app" class="max-w-4xl mx-auto bg-white rounded-xl shadow-2xl p-6 md:p-10">

        <!-- Header (Global) --><header class="mb-8 pb-6 border-b-4 border-blue-100 rounded-b-lg">
            <h1 class="text-3xl font-extrabold text-blue-700 mb-4">🏠 전세자금대출 실행 체크리스트 (상세 구두체 버전)</h1>
            
            <!-- User Profile Input and Display --><div class="flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-4 p-4 bg-white rounded-xl shadow-lg border border-blue-200">
                <div class="flex-grow">
                    <p class="text-gray-500 text-sm font-medium">현재 사용자 닉네임 (프로필):</p>
                    <p id="current-user-display" class="text-xl font-extrabold text-blue-800 truncate"></p>
                </div>
                <div class="flex space-x-2">
                    <input type="text" id="user-name-input" placeholder="새 닉네임 입력 (예: 이사준비중)" class="p-2 border border-gray-300 rounded-lg text-sm flex-grow min-w-0 md:min-w-[150px] focus:ring-blue-500 focus:border-blue-500">
                    <button onclick="switchUser()" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition duration-150 text-sm whitespace-nowrap shadow-md">
                        프로필 변경
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content (Single Column Timeline) --><div id="timeline" class="space-y-12">
            <!-- Timeline will be populated here --></div>

        <!-- Completion Modal/Message --><div id="completion-message" class="mt-12 p-4 bg-green-100 border-l-4 border-green-500 text-green-700 rounded-lg hidden transition-opacity duration-300 opacity-0">
            <p class="font-bold">✨ 축하합니다! 모든 단계를 완료했습니다. ✨</p>
            <p class="text-sm">성공적인 이사 진행을 진심으로 축하드립니다. </p>
        </div>
    </div>

    <script>
        // 전역 상태
        let checklistData = [];
        let currentUserName = '';
        const APP_STORAGE_PREFIX = 'loan_checklist_user_'; // 사용자별 데이터 저장을 위한 Prefix
        const LAST_USER_KEY = 'last_active_user';
        const DEFAULT_USER = 'Guest';

        // Phase Data (Updated to include titles and colors mimicking the image's aesthetic)
        const phaseData = [
            { phase: "D-3개월 ~ D-2개월", title: "사전 점검/매물 물색", color: "bg-amber-800", fill: "from-amber-800 to-amber-700" },
            { phase: "D-1개월 ~ D-3주", title: "계약/신청 준비", color: "bg-amber-600", fill: "from-amber-600 to-amber-500" },
            { phase: "D-2주 ~ D-1주", title: "승인/잔금 마무리", color: "bg-yellow-600", fill: "from-yellow-600 to-yellow-500" },
            { phase: "D-Day", title: "이사/잔금 당일", color: "bg-lime-700", fill: "from-lime-700 to-lime-600" },
            { phase: "D+Days", title: "사후 관리/정착", color: "bg-green-800", fill: "from-green-800 to-green-700" }
        ];

        // Original checklist data structure (for new users)
        const rawTimelineData = [
            {
                phase: "D-3개월 ~ D-2개월",
                title: "사전 자격 점검 및 매물 물색, 계획 확정 단계",
                checks: [
                    { text: "청년전용 버팀목 등 상품의 소득, 나이, 자산 요건을 꼼꼼히 확인하세요.", detail: "특히 미혼 단독세대주 조건(나이, 평수)은 상품마다 다르니 재차 확인하셔야 합니다." },
                    { text: "신용점수(NICE/KCP)를 최소 850점 이상으로 유지해야 합니다.", detail: "만약 점수가 낮다면 공과금 납부 내역 등을 이용해 미리미리 점수를 올리는 노력이 필요해요." },
                    { text: "대출 한도 및 금리 ($3.5\% \\sim 3.9\%$)를 예측하고, 매월 감당 가능한 상환 금액을 설정하세요.", detail: "금리 시뮬레이션을 통해 내가 부담할 월 비용을 정확히 알아야 마음 편합니다." },
                    { text: "보증금의 $5\% \\sim 10\%$는 현금으로 필요합니다. 현금 조달 비율과 상환 계획을 확정하세요.", detail: "이 돈을 어떻게 마련할지 구체적인 자금 출처 계획을 미리 세워두셔야 해요." },
                    { text: "전세 매물을 물색할 때, 복잡한 권리 관계(근저당 등)가 없는 집 위주로 탐색해야 합니다.", detail: "집 내부 환경은 물론 등기부 등본상의 하자가 없는지 꼼꼼하게 확인하세요!" },
                    { text: "주택금융공사(HF)나 주택도시보증공사(HUG)의 보증 가입 가능 여부를 확인하세요.", detail: "특히 KB 부동산 시세가 잘 잡혀있는지 확인해야 보증 진행이 수월합니다." }
                ],
                tips: [
                    "Tip 1. 청년 대출은 만 30세 미만 단독세대주 시 주택 전용면적이 60m²로 제한됩니다. 이 조건에 맞는 집만 보세요!",
                    "Tip 2. 은행 가심사는 여러 곳(주거래 은행, 주택기금 취급은행)에서 받아보세요. 한도가 다르게 나올 수 있습니다.",
                    "Tip 3. 미혼은 '부양가족'이 없기 때문에 심사 시 대출 목적(직장 거리 단축 등)을 명확하게 설명하는 것이 중요합니다."
                ]
            },
            {
                phase: "D-1개월 ~ D-3주",
                title: "계약 체결 및 대출 신청 준비 완료 단계",
                checks: [
                    { text: "전세 계약을 체결하고, 반드시 보증금의 $5\%$ 이상을 임대인에게 이체하세요.", detail: "임대차 계약서에 서명하고 잔금 전까지 임대인에게 **국민은행 등기부등본 확인용 인감증명서**를 요청하세요." },
                    { text: "계약서 원본에 **확정일자**를 받으세요. (동사무소 방문 또는 온라인)", detail: "확정일자는 대출 심사와 보증 가입 시 필수입니다. 미루지 마세요." },
                    { text: "신용 대출 상품이 있다면 미리미리 해지해서 부채를 축소해야 대출 심사에 유리합니다.", detail: "대출 심사 직전에 부채를 줄여놓는 것이 심사관에게 좋은 인상을 줍니다." },
                    { text: "필수 서류(등본, 원천징수영수증, 건강보험자격득실확인서 등)를 **1개월 이내 발급분**으로 준비하세요.", detail: "은행에 방문하여 서류를 제출할 때 하나라도 빠지면 안 되니 리스트를 만들어 체크하세요." },
                    { text: "은행에 직접 방문하여 전세자금대출을 정식으로 신청합니다.", detail: "대출 신청은 **잔금일 및 전입일 중 빠른 날로부터 3개월 이내**에 해야 합니다. 날짜를 넘기면 안 돼요!" },
                    { text: "은행 및 보증기관의 **크레딧 체크(신용조회)**가 진행되니 대출 심사 전까지 얌전히 기다려야 합니다.", detail: "조사원이나 은행 직원의 전화가 언제 올지 모르니 항상 전화를 받을 준비가 되어 있어야 합니다." }
                ],
                tips: [
                    "Tip 4. 은행 서류 제출 시, **미혼 단독세대주임을 강조**하는 서류(가족관계증명서)를 먼저 챙겨두면 좋습니다.",
                    "Tip 5. 대출 신청은 **전자계약**으로 진행하면 우대금리 혜택을 받을 수 있습니다. 중개사에게 전자계약 가능 여부를 문의하세요.",
                    "Tip 6. 전입 신고는 잔금일 당일에 하는 것이 가장 안전합니다. 중개사에게 이전 세입자의 전출 날짜를 미리 확인해달라고 부탁하세요."
                ]
            },
            {
                phase: "D-2주 ~ D-1주",
                title: "대출 승인 확인 및 잔금 전 마무리 단계",
                checks: [
                    { text: "은행으로부터 **대출 최종 승인 통보**를 받으세요.", detail: "승인 시 안내받은 최종 금리와 대출 조건을 다시 한번 확인해야 합니다." },
                    { text: "서울보증보험 등으로부터 카카오톡 안내를 받아 전자서명을 하고 수수료를 납부하세요.", detail: "수수료 납부 후 **보증보험 증권을 다운로드**하여 은행에 전달해야 합니다. 이게 마무리되어야 대출이 실행됩니다." },
                    { text: "이사 당일 사용할 인터넷, TV, 정수기 등 각종 이전 설치를 미리 신청하고 예약하세요.", detail: "이사 당일 정신 없으니 D-Day 전 미리미리 예약해 두세요." }
                ],
                tips: [
                    "Tip 7. 은행에서 최종 승인 문자를 받기 전까지는 이사 준비 외의 다른 큰 지출은 하지 마세요. 신용 변동을 최소화해야 합니다.",
                    "Tip 8. 보증보험 가입 시 주택 가격(시세)이 문제 되는 경우가 있습니다. KB 부동산 시세를 정확히 확인했는지 다시 한번 체크하세요."
                ]
            },
            {
                phase: "D-Day",
                title: "이사 및 잔금 처리 당일: 가장 중요한 날",
                checks: [
                    { text: "오전에 기존 집에서 짐을 빼고, 오후에 새로운 집으로 이동합니다.", detail: "이사 업체와 시간 계획을 철저히 공유하고, 예상치 못한 상황에 대비해야 합니다." },
                    { text: "오후에 잔금을 최종 지급하고 **대출금 실행**을 확인합니다.", detail: "대출금이 임대인 계좌로 정확히 입금되었는지 중개사를 통해 반드시 확인해야 합니다." },
                    { text: "이사 전/후 집 상태를 **동영상으로 구석구석 기록**해두세요. (증거 확보)", detail: "집이 비어 있는 상태에서 파손 여부 등을 기록해야 나중에 분쟁 소지를 막을 수 있습니다." },
                    { text: "**주민센터에 방문하여 전입신고 및 확정일자를 당일 완료**해야 합니다.", detail: "은행에서 당일 전출입이 이루어져야 한다고 엄격히 확인하므로, **이전 세입자의 전출 신고가 완료되었는지**도 체크해야 합니다." },
                    { text: "중개수수료, 전기/가스요금, 관리비 등 모든 정산 및 이체를 처리하세요.", detail: "이전 거주자에게 명확히 인수인계를 받고 새 집의 계량기 정보도 기록하세요." }
                ],
                tips: [
                    "Tip 9. 대출금 입금 직후 임대인에게 '감사합니다' 문자를 보내고, 중개사에게 입금 확인증을 받아두세요.",
                    "Tip 10. 공과금 정산 시, **이전 세입자 이름**으로 된 최종 영수증과 **계량기 숫자 사진**을 꼭 받아둬야 이중 청구를 막을 수 있습니다."
                ]
            },
            {
                phase: "D+Days",
                title: "대출 사후 관리 및 정착 단계",
                checks: [
                    { text: "대출 관련 사후 조사원(실제 거주 확인)의 방문/전화에 응대해야 합니다.", detail: "이사 후 며칠 내로 전화가 오거나 예고 없이 방문할 수 있습니다. 꼭 집에 있으면서 얼굴을 보여줘야 해요." },
                    { text: "부동산 중개수수료 및 이사 비용에 대한 현금영수증 발급을 요청하세요.", detail: "이 비용은 연말정산 시 공제 혜택을 받을 수 있으니 잊지 말고 요청해야 합니다." },
                    { text: "전입 후 거주하며 주택 임대차 신고제 대상 여부를 확인하고 신고하세요.", detail: "계약 기간 등에 따라 신고 의무가 발생할 수 있으니 해당 지역의 규정을 확인해야 합니다." }
                ],
                tips: [
                    "Tip 11. 사후 조사원 방문 시, 집이 비어있으면 안 됩니다. 외출 시에는 은행에 미리 고지하거나, 이웃에게 부탁해 방문 시간을 조율하는 것이 좋습니다.",
                    "Tip 12. 이사 후 가구 배치나 인테리어 변경 사항이 있다면, 대출 사후 심사 기간(보통 1~3개월)이 지난 후에 진행하는 것이 마음 편합니다."
                ]
            }
        ];

        // 초기 데이터 로드 및 렌더링
        window.onload = function() {
            // Combine rawTimelineData with phaseData colors/titles for full object structure
            const timelineData = rawTimelineData.map((rawPhase, index) => ({
                ...rawPhase,
                ...phaseData[index]
            }));

            // 1. 마지막으로 사용한 사용자 이름을 로드
            const lastUserName = localStorage.getItem(LAST_USER_KEY) || DEFAULT_USER;
            
            // 2. 현재 사용자 이름 설정 및 UI 업데이트
            currentUserName = lastUserName;
            document.getElementById('user-name-input').value = currentUserName === DEFAULT_USER ? '' : currentUserName;
            document.getElementById('current-user-display').textContent = currentUserName === DEFAULT_USER ? '게스트 (저장되지 않음)' : currentUserName;

            // 3. 해당 사용자의 체크리스트 데이터 로드
            loadAndRenderChecklist(timelineData);
        };

        // 사용자 이름 변경 및 데이터 로드/초기화
        function switchUser() {
            const input = document.getElementById('user-name-input').value.trim();
            const newUserName = input || DEFAULT_USER;
            
            if (newUserName === currentUserName) return;

            // 현재 사용자 이름 저장
            currentUserName = newUserName;
            localStorage.setItem(LAST_USER_KEY, currentUserName);
            
            // UI 업데이트
            document.getElementById('current-user-display').textContent = currentUserName === DEFAULT_USER ? '게스트 (저장되지 않음)' : currentUserName;
            // 입력 필드 초기화 (UX 개선)
            document.getElementById('user-name-input').value = '';
            
            // 데이터 로드 및 렌더링
            const timelineData = rawTimelineData.map((rawPhase, index) => ({
                ...rawPhase,
                ...phaseData[index]
            }));
            loadAndRenderChecklist(timelineData);
        }

        // 특정 사용자의 데이터를 로드하고 렌더링하는 핵심 함수
        function loadAndRenderChecklist(timelineData) {
            const storageKey = APP_STORAGE_PREFIX + currentUserName;
            const storedState = localStorage.getItem(storageKey);
            
            if (storedState) {
                const loadedData = JSON.parse(storedState);
                 if (loadedData.length === timelineData.length) {
                    // Check if the structure matches and merge in the latest color/title data
                    checklistData = loadedData.map((loadedPhase, index) => ({
                        ...loadedPhase,
                        ...timelineData[index] // Merge in latest structure and colors
                    }));
                } else {
                    // 구조가 다르면 초기화
                    initializeChecklist(timelineData);
                }
            } else {
                // 저장된 데이터가 없으면 초기화
                initializeChecklist(timelineData);
            }

            renderTimeline(checklistData);
            updateCompletionMessage();
            updateFixedProgressBar();
        }

        function initializeChecklist(timelineData) {
            checklistData = timelineData.map(phase => ({
                ...phase,
                checks: phase.checks.map(check => ({
                    ...check,
                    checked: false
                }))
            }));
            saveChecklistState(checklistData);
        }

        function saveChecklistState(data) {
             const storageKey = APP_STORAGE_PREFIX + currentUserName;
             localStorage.setItem(storageKey, JSON.stringify(data));
        }

        // 체크박스 상태 토글
        function toggleCheck(phaseIndex, checkIndex) {
            checklistData[phaseIndex].checks[checkIndex].checked = !checklistData[phaseIndex].checks[checkIndex].checked;
            saveChecklistState(checklistData);
            renderTimeline(checklistData);
            updateCompletionMessage();
            updateFixedProgressBar(); // 고정 바 업데이트 추가
        }

        // 전체 완료 메시지 업데이트
        function updateCompletionMessage() {
            const totalChecks = checklistData.flatMap(p => p.checks).length;
            const completedChecks = checklistData.flatMap(p => p.checks).filter(c => c.checked).length;
            const messageEl = document.getElementById('completion-message');

            if (totalChecks === completedChecks && totalChecks > 0) {
                messageEl.classList.remove('hidden', 'opacity-0');
                messageEl.classList.add('opacity-100');
            } else {
                messageEl.classList.add('hidden', 'opacity-0');
                messageEl.classList.remove('opacity-100');
            }
        }

        // 고정형 가로 바 업데이트 함수 (툴팁 기능, 이모지, 요약 추가, 디자인 개선)
        function updateFixedProgressBar() {
            const segmentsContainer = document.getElementById('progress-segments');
            segmentsContainer.innerHTML = '';
            
            const labelsContainer = document.getElementById('progress-labels');
            labelsContainer.innerHTML = ''; // Clear existing labels

            const markersContainer = document.getElementById('progress-markers');
            markersContainer.innerHTML = ''; // Clear existing markers

            const totalCheckItems = checklistData.flatMap(p => p.checks).length;
            const phaseEmojis = ['1️⃣', '2️⃣', '3️⃣', '4️⃣', '5️⃣']; // Define emojis
            
            checklistData.forEach((phase, phaseIndex) => {
                const completedChecksInPhase = phase.checks.filter(c => c.checked).length;
                const totalChecksInPhase = phase.checks.length;
                
                // 1. 해당 단계가 전체에서 차지하는 비율 (크기)
                const totalPhaseWeight = totalChecksInPhase / totalCheckItems * 100;
                
                // 2. 해당 단계 내 완료 비율 (채워지는 정도)
                const phaseCompletionRatio = totalChecksInPhase > 0 ? (completedChecksInPhase / totalChecksInPhase) : 0;
                const completionPercentage = Math.round(phaseCompletionRatio * 100);

                // --- A. Bar Segment Render (Gradient and Emoji) ---
                const segment = document.createElement('div');
                segment.style.width = `${totalPhaseWeight}%`;
                segment.className = `group relative h-full transition-all duration-300 ease-out`; 
                
                // Internal Fill Div (Gradient background, using 'fill' property from phaseData)
                const fill = document.createElement('div');
                // Use background gradient for richer look
                fill.className = `h-full bg-gradient-to-r ${phase.fill} transition-all duration-500 ease-out`;
                fill.style.width = `${phaseCompletionRatio * 100}%`; 
                
                // Emoji Overlay (Large Step Number)
                const emojiOverlay = document.createElement('span');
                emojiOverlay.className = 'absolute inset-0 flex items-center justify-center text-xl font-extrabold text-white mix-blend-difference pointer-events-none';
                emojiOverlay.textContent = (phaseIndex + 1); // Use plain number for cleaner look inside the segment
                
                segment.appendChild(fill);
                segment.appendChild(emojiOverlay); 
                
                // --- B. Tooltip Overlay (Interaction) ---
                const tooltip = document.createElement('div');
                // Added cursor-pointer to the segment itself for better interaction
                tooltip.className = `absolute top-full mt-2 left-1/2 transform -translate-x-1/2 min-w-max cursor-pointer
                                     opacity-0 group-hover:opacity-100 group-hover:translate-y-0 translate-y-2
                                     bg-gray-800 text-white text-xs font-medium rounded py-1 px-3 shadow-lg 
                                     transition-all duration-300 z-50`;
                
                tooltip.innerHTML = `
                    <p class="font-bold">${phaseEmojis[phaseIndex]} ${phase.phase}</p>
                    <p>${completionPercentage}% 완료 (${completedChecksInPhase}/${totalChecksInPhase} 항목)</p>
                `;
                
                const arrow = document.createElement('div');
                arrow.className = `absolute bottom-full left-1/2 transform -translate-x-1/2 
                                   border-8 border-transparent border-b-gray-800`;
                
                tooltip.prepend(arrow);
                segment.appendChild(tooltip);

                segmentsContainer.appendChild(segment);

                // --- C. Label Render (Small Summary) ---
                const label = document.createElement('div');
                label.style.width = `${totalPhaseWeight}%`;
                // Simplified title for small space
                const simpleTitle = phase.title;
                
                label.className = `text-center text-[10px] text-gray-600 font-semibold truncate px-0.5 md:px-1`;
                label.innerHTML = `<span class="hidden md:inline">${phaseEmojis[phaseIndex]}</span> ${simpleTitle}`; 
                
                labelsContainer.appendChild(label);
            });

            // --- D. Markers Overlay ---
            // Draw markers between segments (N-1 markers)
            // The markers container uses px-4, so markers are placed correctly relative to the rounded ends
            const markerPositions = [];
            let cumulativeWidth = 0;
            
            // Calculate the position of markers (excluding the start and end point)
            checklistData.forEach((phase, index) => {
                if (index < checklistData.length - 1) {
                    const phaseWidth = (phase.checks.length / totalCheckItems) * 100;
                    cumulativeWidth += phaseWidth;
                    markerPositions.push(cumulativeWidth);
                }
            });

            // Render Markers
            markerPositions.forEach((pos, index) => {
                const marker = document.createElement('div');
                marker.className = `segment-marker absolute w-6 h-6 rounded-full bg-white transition-all duration-500 ease-out flex items-center justify-center text-xs font-bold text-gray-800 pointer-events-none`;
                marker.style.left = `${pos}%`;
                marker.style.transform = `translateX(-50%)`; // Center the marker

                // Marker text (e.g., small completion percentage or just a dot)
                // For simplicity and matching the image style, we use a simple white circle.
                // marker.textContent = '●'; 
                
                // Add a small inner circle to mimic the image's shading
                marker.innerHTML = `<div class="w-2 h-2 rounded-full bg-gray-400"></div>`; 

                markersContainer.appendChild(marker);
            });

             // The current phase number (for local marker display) is already handled in the emoji overlay (A)
        }


        // 타임라인 렌더링 (꿀팁 섹션 추가)
        function renderTimeline(timelineData) {
            const timelineEl = document.getElementById('timeline');
            timelineEl.innerHTML = ''; // Clear existing content

            timelineData.forEach((phase, phaseIndex) => {
                const totalChecks = phase.checks.length;
                const completedChecks = phase.checks.filter(c => c.checked).length;

                const phaseSection = document.createElement('div');
                // Use phase's color for the border
                phaseSection.className = `timeline-phase relative border-l-4 ${phase.color.replace('bg-', 'border-')} pl-6 md:pl-10 pb-8`; 

                // Timeline marker
                const marker = document.createElement('div');
                marker.className = `${phase.color} absolute -left-2 md:-left-4 top-0 w-4 h-4 md:w-8 md:h-8 rounded-full shadow-md flex items-center justify-center text-white text-xs font-bold`;
                marker.textContent = (phaseIndex + 1);

                // Phase Header
                const header = document.createElement('h2');
                header.className = 'text-xl md:text-2xl font-bold mb-1 pt-0.5 text-gray-700';
                header.textContent = phase.phase;

                const subHeader = document.createElement('p');
                subHeader.className = 'text-lg font-semibold mb-4 text-gray-600';
                subHeader.textContent = `[${phase.title}]`;

                // Progress Bar (Local progress bar)
                const progress = document.createElement('div');
                const progressPercent = totalChecks > 0 ? (completedChecks / totalChecks) * 100 : 0;
                progress.className = 'mb-6 w-full bg-gray-100 rounded-full h-2.5';
                progress.innerHTML = `<div class="bg-blue-600 h-2.5 rounded-full transition-all duration-500 ease-out" style="width: ${progressPercent}%"></div>`;

                const checkListEl = document.createElement('div');
                checkListEl.className = 'space-y-3';

                // Render Check items
                phase.checks.forEach((check, checkIndex) => {
                    const checkItem = document.createElement('label');
                    checkItem.className = 'flex items-start p-4 bg-gray-50 rounded-lg shadow-sm hover:bg-gray-100 cursor-pointer transition duration-150';

                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.checked = check.checked;
                    checkbox.className = 'form-checkbox h-5 w-5 text-blue-600 rounded mt-1.5 focus:ring-blue-500 border-gray-300';
                    checkbox.onclick = (event) => {
                        event.stopPropagation(); // Prevent label click
                        toggleCheck(phaseIndex, checkIndex);
                    };

                    const textContainer = document.createElement('div');
                    textContainer.className = 'ml-4 flex-1';

                    const mainText = document.createElement('span');
                    mainText.className = `text-base font-medium ${check.checked ? 'line-through text-gray-400' : 'text-gray-800'}`;
                    mainText.textContent = check.text;

                    // Math equation rendering fix (simple replacement for visual demo)
                    const detailText = document.createElement('p');
                    detailText.className = `text-sm mt-0.5 ${check.checked ? 'text-gray-400' : 'text-gray-500'}`;
                    // Replace LaTeX style math with standard text for HTML context
                    detailText.innerHTML = check.detail.replace(/\$(.*?)\$/g, '<span>$1</span>'); 

                    textContainer.appendChild(mainText);
                    textContainer.appendChild(detailText);
                    checkItem.appendChild(checkbox);
                    checkItem.appendChild(textContainer);

                    checkListEl.appendChild(checkItem);
                });

                // Render Tips
                const tipSection = document.createElement('div');
                tipSection.className = 'mt-6 p-5 bg-yellow-50 border-l-4 border-yellow-400 rounded-lg shadow-inner';
                
                const tipHeader = document.createElement('h3');
                tipHeader.className = 'text-lg font-bold text-yellow-800 mb-3 flex items-center';
                tipHeader.innerHTML = '💡 Tip! (사용자 꿀팁)';

                const tipList = document.createElement('ul');
                tipList.className = 'space-y-2';

                phase.tips.forEach(tip => {
                    const tipItem = document.createElement('li');
                    tipItem.className = 'text-sm text-gray-700';
                    tipItem.innerHTML = `<span class="font-medium text-yellow-800">•</span> ${tip}`;
                    tipList.appendChild(tipItem);
                });

                tipSection.appendChild(tipHeader);
                tipSection.appendChild(tipList);


                // Append all elements to the phase section
                phaseSection.appendChild(marker);
                phaseSection.appendChild(header);
                phaseSection.appendChild(subHeader);
                phaseSection.appendChild(progress);
                phaseSection.appendChild(checkListEl);
                phaseSection.appendChild(tipSection); // Add tip section here
                timelineEl.appendChild(phaseSection);
            });
        }
    </script>
</body>
</html>
